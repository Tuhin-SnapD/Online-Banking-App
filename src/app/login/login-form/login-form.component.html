<div class="login-form-container">
  <div class="login-card">
    <div class="login-header">
      <fa-icon icon="university" class="login-icon"></fa-icon>
      <h2>Welcome Back</h2>
      <p>Sign in to your Online Banking account</p>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="login()" class="login-form">
      
      <!-- Username Field -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Username</mat-label>
        <input matInput 
               formControlName="username" 
               placeholder="Enter your username"
               autocomplete="username"
               [errorStateMatcher]="matcher">
        <mat-icon matSuffix>
          <fa-icon icon="user"></fa-icon>
        </mat-icon>
        <mat-error *ngIf="loginForm.get('username')?.hasError('required')">
          Username is required
        </mat-error>
        <mat-error *ngIf="loginForm.get('username')?.hasError('minlength')">
          Username must be at least 3 characters
        </mat-error>
      </mat-form-field>

      <!-- Password Field -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Password</mat-label>
        <input matInput 
               [type]="passwordInputType" 
               formControlName="password" 
               placeholder="Enter your password"
               autocomplete="current-password"
               [errorStateMatcher]="matcher">
        <button mat-icon-button 
                matSuffix 
                type="button"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="passwordInputType === 'text'">
          <mat-icon>
            <fa-icon [icon]="passwordInputType === 'password' ? 'eye' : 'eye-slash'"></fa-icon>
          </mat-icon>
        </button>
        <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
          Password is required
        </mat-error>
        <mat-error *ngIf="loginForm.get('password')?.hasError('minlength')">
          Password must be at least 6 characters
        </mat-error>
      </mat-form-field>

      <!-- Forgot Password Link -->
      <div class="forgot-password">
        <button type="button" 
                mat-button 
                color="primary" 
                (click)="forgotPassword()"
                class="forgot-link">
          <fa-icon icon="question-circle"></fa-icon>
          Forgot Password?
        </button>
      </div>

      <!-- Login Button -->
      <button mat-raised-button 
              color="primary" 
              type="submit" 
              [disabled]="loginForm.invalid || loading"
              class="login-button">
        <mat-spinner *ngIf="loading" diameter="20" class="button-spinner"></mat-spinner>
        <fa-icon *ngIf="!loading" icon="sign-in-alt"></fa-icon>
        <span>{{ loading ? 'Signing In...' : 'Sign In' }}</span>
      </button>

      <!-- Demo Credentials -->
      <div class="demo-credentials">
        <p class="demo-title">Demo Credentials:</p>
        <div class="demo-info">
          <p><strong>Username:</strong> admin</p>
          <p><strong>Password:</strong> password</p>
        </div>
      </div>
    </form>
  </div>
</div>
