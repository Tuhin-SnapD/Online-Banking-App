<div
  [ngClass]="{
  'sidebar-full': !sidenavCollapsed,
  'sidebar-compact': sidenavCollapsed
  }">

  <div class="navigation-panel" fxLayout="column">

    <!-- App Brand -->
    <div class="app-brand" [routerLink]="['/home']">
      <div class="brand-logo">
        <fa-icon icon="university" size="2x"></fa-icon>
      </div>
      <div class="brand-text" *ngIf="!sidenavCollapsed">
        <h2>Online Banking</h2>
        <p>Secure & Modern</p>
      </div>
    </div>

    <!-- User Info -->
    <div class="app-user" *ngIf="!sidenavCollapsed">
      <div class="user-avatar">
        <fa-icon icon="user-circle" size="2x"></fa-icon>
      </div>
      <div class="user-info">
        <span class="user-name">{{ username || 'Welcome' }}</span>
        <span class="user-role">Online Banking User</span>
      </div>
    </div>

    <!-- Navigation Menu -->
    <div class="app-sidenav">
      
      <!-- Main Navigation -->
      <div class="nav-section">
        <h3 class="nav-section-title" *ngIf="!sidenavCollapsed">Main Menu</h3>
        
        <mat-nav-list>
          <mat-list-item [routerLink]="['/home']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="home" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>Dashboard</a>
          </mat-list-item>
          
          <mat-list-item [routerLink]="['/accounts']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="wallet" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>My Accounts</a>
          </mat-list-item>
          
          <mat-list-item [routerLink]="['/recent-transactions']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="history" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>Transaction History</a>
          </mat-list-item>
        </mat-nav-list>
      </div>

      <!-- Banking Services -->
      <div class="nav-section">
        <h3 class="nav-section-title" *ngIf="!sidenavCollapsed">Banking Services</h3>
        
        <mat-nav-list>
          <mat-list-item [routerLink]="['/transfers']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="exchange-alt" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>Internal Transfers</a>
          </mat-list-item>
          
          <mat-list-item [routerLink]="['/tpt']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="people-arrows" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>External Transfers</a>
          </mat-list-item>
          
          <mat-list-item [routerLink]="['/beneficiaries']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="user-friends" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>Beneficiaries</a>
          </mat-list-item>
          
          <mat-list-item [routerLink]="['/loans/apply']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="hand-holding-usd" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>Apply for Loan</a>
          </mat-list-item>
        </mat-nav-list>
      </div>

      <!-- Account Management -->
      <div class="nav-section">
        <h3 class="nav-section-title" *ngIf="!sidenavCollapsed">Account Management</h3>
        
        <mat-nav-list>
          <mat-list-item [routerLink]="['/charges']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="file-invoice-dollar" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>Charges & Fees</a>
          </mat-list-item>
        </mat-nav-list>
      </div>

      <!-- Help & Support -->
      <div class="nav-section">
        <h3 class="nav-section-title" *ngIf="!sidenavCollapsed">Help & Support</h3>
        
        <mat-nav-list>
          <mat-list-item [routerLink]="['/about-us']" routerLinkActive="active">
            <mat-icon matListIcon>
              <fa-icon icon="info-circle" size="sm"></fa-icon>
            </mat-icon>
            <a matLine>About Us</a>
          </mat-list-item>
        </mat-nav-list>
      </div>

    </div>

    <!-- User Actions -->
    <div class="user-actions" *ngIf="!sidenavCollapsed">
      <button mat-icon-button matTooltip="Settings" class="action-button">
        <fa-icon icon="cog"></fa-icon>
      </button>
      <button mat-icon-button matTooltip="Sign Out" class="action-button" (click)="logout()">
        <fa-icon icon="sign-out-alt"></fa-icon>
      </button>
    </div>

  </div>

</div>
